/*!
 * miniapp-render v1.3.2
 * (c) 2019-2020 Rax Team
 * Released under the BSD-3-Clause License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self)["miniapp-render"]=t()}(this,(function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}var t=e((function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,r)}e.exports=t}));var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}},r=e((function(e){function r(i,o,a){return n()?e.exports=r=Reflect.construct:e.exports=r=function(e,n,r){var i=[null];i.push.apply(i,n);var o=new(Function.bind.apply(e,i));return r&&t(o,r.prototype),o},r.apply(null,arguments)}e.exports=r}));function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};var a=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t},s=e((function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t}));var u=function(){function e(t){var n=this;this.$_name=t.name.toLowerCase(),this.$_target=t.target,this.$_timeStamp=t.timeStamp||Date.now(),this.$_currentTarget=t.currentTarget||t.target,this.$_eventPhase=t.eventPhase||e.NONE,this.$_detail=t.detail||null,this.$_immediateStop=!1,this.$_canBubble=!0,this.$_bubbles=t.bubbles||!1,this.$_touches=null,this.$_targetTouches=null,this.$_changedTouches=null,this.$_cancelable=!1;var r=t.$$extra;r&&Object.keys(r).forEach((function(e){n[e]=r[e]})),t.touches&&t.touches.length&&(this.$_touches=t.touches.map((function(e){return s({},e,{target:t.target})})),this.$$checkTargetTouches()),t.changedTouches&&t.changedTouches.length&&(this.$_changedTouches=t.changedTouches.map((function(e){return s({},e,{target:t.target})})))}var t=e.prototype;return t.$$setTarget=function(e){this.$_target=e},t.$$setCurrentTarget=function(e){this.$_currentTarget=e,this.$$checkTargetTouches()},t.$$setEventPhase=function(e){this.$_eventPhase=e},t.$$checkTargetTouches=function(){var e=this;this.$_touches&&this.$_touches.length&&(this.$_targetTouches=this.$_touches.filter((function(t){return function(e,t){if(e===t)return!0;for(;e;){if(e===t)return!0;e=e.parentNode}return!1}(t.target,e.$_currentTarget)})))},t.preventDefault=function(){this.$_cancelable=!0},t.stopPropagation=function(){this.eventPhase!==e.NONE&&(this.$_canBubble=!1)},t.stopImmediatePropagation=function(){this.eventPhase!==e.NONE&&(this.$_immediateStop=!0,this.$_canBubble=!1)},t.initEvent=function(e,t){void 0===e&&(e=""),"string"==typeof e&&(this.$_name=e.toLowerCase(),this.$_bubbles=void 0===t?this.$_bubbles:!!t)},o(e,[{key:"$$immediateStop",get:function(){return this.$_immediateStop}},{key:"$$canBubble",get:function(){return this.$_canBubble}},{key:"bubbles",get:function(){return this.$_bubbles}},{key:"cancelable",get:function(){return this.$_cancelable}},{key:"target",get:function(){return this.$_target}},{key:"currentTarget",get:function(){return this.$_currentTarget}},{key:"eventPhase",get:function(){return this.$_eventPhase}},{key:"type",get:function(){return this.$_name}},{key:"timeStamp",get:function(){return this.$_timeStamp}},{key:"touches",get:function(){return this.$_touches}},{key:"targetTouches",get:function(){return this.$_targetTouches}},{key:"changedTouches",get:function(){return this.$_changedTouches}},{key:"detail",set:function(e){this.$_detail=e},get:function(){return this.$_detail}}]),e}();u.NONE=0,u.CAPTURING_PHASE=1,u.AT_TARGET=2,u.BUBBLING_PHASE=3;var c=function(e){function t(t,n){return void 0===t&&(t=""),void 0===n&&(n={}),e.call(this,s({name:t},n))||this}return a(t,e),t}(u);function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(e.length!==t.length)return!1;for(var n,r=e.length;n<r;n++){var i=e[n],o=t[n];if(i.identifier!==o.identifier)return!1;if(i.pageX!==o.pageX||i.pageY!==o.pageY||i.clientX!==o.clientX||i.clientY!==o.clientY)return!1}return!0}function f(e,t){return e.pageX===t.pageX&&e.pageY===t.pageY&&e.clientX===t.clientX&&e.clientY===t.clientY}function g(e,t,n){var r="detail"===e?f:d;return!(!t[e]||!n[e]||r(t[e],n[e]))||!!(!t[e]&&n[e]||t[e]&&!n[e])}var m=function(){function e(){this.ontouchstart=null,this.ontouchmove=null,this.ontouchend=null,this.ontouchcancel=null,this.oninput=null,this.onfocus=null,this.onblur=null,this.onchange=null,this.$_miniappEvent=null,this.__eventHandlerMap=new Map}var t=e.prototype;return t.$$destroy=function(){var e=this;Object.keys(this).forEach((function(t){0===t.indexOf("on")&&(e[t]=null),"_"===t[0]&&(e[t]=null),"$"===t[0]&&"_"!==t[1]&&"$"!==t[1]&&(e[t]=null)})),this.$_miniappEvent=null,this.__eventHandlerMap=null},e.$$process=function(e,t,n,r,i){var o;(t instanceof c||t instanceof u)&&(t=(o=t).type),t=t.toLowerCase();for(var a=[e],s=e.parentNode;s&&s.ownerDocument;)a.push(s),s=s.parentNode;o||(o=new u({name:t,target:e,detail:n.detail,timeStamp:n.timeStamp,touches:n.touches,changedTouches:n.changedTouches,bubbles:!0,$$extra:r}));for(var h=a.length-1;h>=0;h--){var d=a[h];if(!o.$$canBubble)break;d!==e&&(o.$$setCurrentTarget(d),o.$$setEventPhase(u.CAPTURING_PHASE),d.$$trigger(t,{event:o,isCapture:!0}),i&&i(d,o,!0))}if(o.$$canBubble&&(o.$$setCurrentTarget(e),o.$$setEventPhase(u.AT_TARGET),e.$$trigger(t,{event:o,isCapture:!0,isTarget:!0}),i&&i(e,o,!0),e.$$trigger(t,{event:o,isCapture:!1,isTarget:!0}),i&&i(e,o,!1)),o.bubbles)for(var f,g=l(a);!(f=g()).done;){var m=f.value;if(!o.$$canBubble)break;m!==e&&(o.$$setCurrentTarget(m),o.$$setEventPhase(u.BUBBLING_PHASE),m.$$trigger(t,{event:o,isCapture:!1}),i&&i(m,o,!1))}return o.$$setCurrentTarget(null),o.$$setEventPhase(u.NONE),o},t.__getHandles=function(e,t,n){if(n){var r=this.__eventHandlerMap.get(e);return r||this.__eventHandlerMap.set(e,r={}),r.capture=r.capture||[],r.bubble=r.bubble||[],t?r.capture:r.bubble}var i=this.__eventHandlerMap.get(e);return i?t?i.capture:i.bubble:null},t.$$trigger=function(e,t){var n=this,r=void 0===t?{}:t,i=r.event,o=r.args,a=void 0===o?[]:o,s=r.isCapture,u=r.isTarget;e=e.toLowerCase();var c=this.__getHandles(e,s)||[];if("onshareappmessage"===e)return c[0]&&c[0].call(this||null,i);var l="on"+e;if(!(s&&u||"function"!=typeof this[l])){if(i&&i.$$immediateStop)return;try{var h;(h=this[l]).call.apply(h,[this||null,i].concat(a))}catch(e){console.error(e)}}c&&c.length&&c.forEach((function(e){if(!i||!i.$$immediateStop)try{var t=i?[i].concat(a):[].concat(a);e.call.apply(e,[n||null].concat(t))}catch(e){console.error(e)}}))},t.__checkEvent=function(e){var t,n=e;return(t=function(e,t){return!e||e.timeStamp!==t.timeStamp||(g("touches",e,t)||g("changedTouches",e,t))}(this.$_miniappEvent,n))&&(this.$_miniappEvent=n),t},t.$$clearEvent=function(e,t){if(void 0===t&&(t=!1),"string"==typeof e){e=e.toLowerCase();var n=this.__getHandles(e,t);n&&n.length&&(n.length=0)}},t.addEventListener=function(e,t,n){if("string"==typeof e&&"function"==typeof t){var r=!1;"boolean"==typeof n?r=n:"object"==typeof n&&(r=n.capture),e=e.toLowerCase(),this.__getHandles(e,r,!0).push(t)}},t.removeEventListener=function(e,t,n){if(void 0===n&&(n=!1),"string"==typeof e&&"function"==typeof t){e=e.toLowerCase();var r=this.__getHandles(e,n);r&&r.length&&r.splice(r.indexOf(t),1)}},t.dispatchEvent=function(t){return t instanceof c&&e.$$process(this,t),!0},e}();var p=0;var v=new Set;var _,y={toDash:function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))},toCamel:function(e){return e.replace(/-([a-zA-Z])/g,(function(e,t){return t.toUpperCase()}))},getId:function(){return p++},throttle:function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];v.has(e)||(v.add(e),Promise.resolve().then((function(){v.has(e)&&(v.delete(e),e.apply(void 0,n))})).catch((function(){})))}},flushThrottleCache:function(){v.forEach((function(e){return e&&e()})),v.clear()}},b={},N=new Map,w=new Map,E={},$=[],T=new Map;var k={init:function(e,t){b[e]=t.document},destroy:function(e){delete b[e]},getDocument:function(e){return b[e]},setWindow:function(e){_=e},getWindow:function(){return _},setNode:function(e,t){void 0===t&&(t=null),w.set(e,t)},getNode:function(e){return w.get(e)},getAllNodes:function(){return w},setConfig:function(e){E=e},getConfig:function(){return E},getRouteId:function(e){var t=N.get(e)||0;return N.set(e,t+1),t+1},setElementInstance:function(e){$.push(e),T.size>0&&T.forEach((function(t,n){e[n]||(e[n]=t)}))},getElementInstance:function(){return $},setElementMethods:function(e,t){$.length>0&&$.forEach((function(n){n[e]=t})),T.set(e,t)}},C=new Set(["movable-view","cover-image","cover-view","movable-area","scroll-view","swiper","swiper-item","view","icon","progress","rich-text","text","button","checkbox","checkbox-group","editor","form","input","label","picker","picker-view","picker-view-column","radio","radio-group","slider","switch","textarea","functional-page-navigator","navigator","audio","camera","image","live-player","live-pusher","video","map","canvas","ad","official-account","open-data","web-view","open-avatar","lottie"]),x=function(e){function t(t){var n;return(n=e.call(this)||this).__nodeId="n_"+y.getId(),n.$_type=t.type,n.parentNode=null,n.__ownerDocument=t.document,n}a(t,e);var n=t.prototype;return n.$$destroy=function(){e.prototype.$$destroy.call(this),this.__nodeId=null,this.$_type=null,this.parentNode=null,this.__rendered=!1,this.__ownerDocument=null},n._isRendered=function(){return!!this.__rendered||(this.parentNode&&(this.__rendered=this.parentNode._isRendered()),this.__rendered)},n.hasChildNodes=function(){return!1},n.remove=function(){return this.parentNode&&this.parentNode.removeChild?this.parentNode.removeChild(this):this},o(t,[{key:"__pageId",get:function(){return this.__ownerDocument.__pageId}},{key:"ownerDocument",get:function(){return this.__ownerDocument}},{key:"_path",get:function(){if(null!==this.parentNode){var e="["+this.parentNode.childNodes.indexOf(this)+"]";return this.parentNode._path+".children."+e}return""}},{key:"_root",get:function(){return k.getNode("e-body-"+this.__pageId)}},{key:"nodeValue",get:function(){return null}},{key:"previousSibling",get:function(){var e=this.parentNode&&this.parentNode.childNodes||[],t=e.indexOf(this);return t>0?e[t-1]:null}},{key:"previousElementSibling",get:function(){var e=this.parentNode&&this.parentNode.childNodes||[],n=e.indexOf(this);if(n>0)for(var r=n-1;r>=0;r--)if(e[r].nodeType===t.ELEMENT_NODE)return e[r];return null}},{key:"nextSibling",get:function(){var e=this.parentNode&&this.parentNode.childNodes||[],t=e.indexOf(this);return e[t+1]||null}},{key:"nextElementSibling",get:function(){var e=this.parentNode&&this.parentNode.childNodes||[],n=e.indexOf(this);if(n<e.length-1)for(var r=n+1,i=e.length;r<i;r++)if(e[r].nodeType===t.ELEMENT_NODE)return e[r];return null}}]),t}(m);x.ELEMENT_NODE=1,x.TEXT_NODE=3,x.CDATA_SECTION_NODE=4,x.PROCESSING_INSTRUCTION_NODE=7,x.COMMENT_NODE=8,x.DOCUMENT_NODE=9,x.DOCUMENT_TYPE_NODE=10,x.DOCUMENT_FRAGMENT_NODE=11;var S=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},I=e((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t}));var O=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")};function A(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){function t(){return e.apply(this,arguments)||this}a(t,e),t._create=function(e,n){var r=new Set;return r.__proto__=t.prototype,r.__element=n,e.trim().split(/\s+/).forEach((function(e){return""!==e&&r.add(e)})),r};var n=t.prototype;return n.add=function(t){return"string"==typeof t&&""!==t&&(e.prototype.add.call(this,t),this._update()),this},n.remove=function(t){e.prototype.delete.call(this,t),this._update()},n.replace=function(t,n){e.prototype.delete.call(this,t),e.prototype.add.call(this,n),this._update()},n.contains=function(e){return this.has(e)},n.item=function(e){for(var t,n=0,r=A(this);!(t=r()).done;){var i=t.value;if(n===e)return i;n++}},n.toggle=function(e,t){return void 0!==t?(!0===t?this.add(e):this.remove(e),t):this.has(e)?(this.remove(e),!1):(this.add(e),!0)},n.toString=function(){return this.value},n._update=function(){this.__element.className=this.value},o(t,[{key:"value",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e.join(" ")}}]),t}(e((function(e){function n(i){var o="function"==typeof Map?new Map:void 0;return e.exports=n=function(e){if(null===e||!O(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(e))return o.get(e);o.set(e,n)}function n(){return r(e,arguments,I(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t(n,e)},n(i)}e.exports=n}))(Set)),D={position:"position",top:"top",bottom:"bottom",right:"right",left:"left",float:"float",clear:"clear",display:"display",width:"width",height:"height",maxHeight:"max-height",maxWidth:"max-width",minHeight:"min-height",minWidth:"min-width",flex:"flex",flexBasis:"flex-basis",flexGrow:"flex-grow",flexShrink:"flex-shrink",flexDirection:"flex-direction",flexWrap:"flex-wrap",justifyContent:"justify-content",justifySelf:"justify-self",alignItems:"align-items",alignSelf:"align-self",padding:"padding",paddingBottom:"padding-bottom",paddingLeft:"padding-left",paddingRight:"padding-right",paddingTop:"padding-top",margin:"margin",marginBottom:"margin-bottom",marginLeft:"margin-left",marginRight:"margin-right",marginTop:"margin-top",background:"background",backgroundClip:"background-clip",backgroundColor:"background-color",backgroundImage:"background-image",backgroundOrigin:"background-origin",backgroundPosition:"background-position",backgroundRepeat:"background-repeat",backgroundSize:"background-size",border:"border",borderRadius:"border-radius",borderBottomColor:"border-bottom-color",borderBottomLeftRadius:"border-bottom-left-radius",borderBottomRightRadius:"border-bottom-right-radius",borderBottomStyle:"border-bottom-style",borderBottomWidth:"border-bottom-width",borderCollapse:"border-collapse",borderImageOutset:"border-image-outset",borderImageRepeat:"border-image-repeat",borderImageSlice:"border-image-slice",borderImageSource:"border-image-source",borderImageWidth:"border-image-width",borderLeftColor:"border-left-color",borderLeftStyle:"border-left-style",borderLeftWidth:"border-left-width",borderRightColor:"border-right-color",borderRightStyle:"border-right-style",borderRightWidth:"border-right-width",borderTopColor:"border-top-color",borderTopLeftRadius:"border-top-left-radius",borderTopRightRadius:"border-top-right-radius",borderTopStyle:"border-top-style",borderTopWidth:"border-top-width",outline:"outline",borderWidth:"border-width",borderStyle:"border-style",borderColor:"border-color",animation:"animation",animationDelay:"animation-delay",animationDirection:"animation-direction",animationDuration:"animation-duration",animationFillMode:"animation-fill-mode",animationIterationCount:"animation-iteration-count",animationName:"animation-name",animationPlayState:"animation-play-state",animationTimingFunction:"animation-timing-function",transition:"transition",transitionDelay:"transition-delay",transitionDuration:"transition-duration",transitionProperty:"transition-property",transitionTimingFunction:"transition-timing-function",transform:"transform",transformOrigin:"transform-origin",perspective:"perspective",perspectiveOrigin:"perspective-origin",backfaceVisibility:"backface-visibility",font:"font",fontFamily:"font-family",fontSize:"font-size",fontStyle:"font-style",fontWeight:"font-weight",color:"color",textAlign:"text-align",textDecoration:"text-decoration",textIndent:"text-indent",textRendering:"text-rendering",textShadow:"text-shadow",textOverflow:"text-overflow",textTransform:"text-transform",wordBreak:"word-break",wordSpacing:"word-spacing",wordWrap:"word-wrap",lineHeight:"line-height",letterSpacing:"letter-spacing",whiteSpace:"white-space",userSelect:"user-select",visibility:"visibility",opacity:"opacity",zIndex:"z-index",zoom:"zoom",overflow:"overflow",overflowX:"overflow-x",overflowY:"overflow-y",boxShadow:"box-shadow",boxSizing:"box-sizing",content:"content",cursor:"cursor",direction:"direction",listStyle:"list-style",objectFit:"object-fit",pointerEvents:"pointer-events",resize:"resize",verticalAlign:"vertical-align",willChange:"will-change",clip:"clip",clipPath:"clip-path",fill:"fill",touchAction:"touch-action",gridArea:"grid-area",gridAutoColumns:"grid-auto-columns",gridAutoFlow:"grid-auto-flow",gridAutoRows:"grid-auto-rows",gridColumn:"grid-column",gridColumnEnd:"grid-column-end",gridColumnGap:"grid-column-gap",gridColumnStart:"grid-column-start",gridGap:"grid-gap",gridRow:"grid-row",gridRowEnd:"grid-row-end",gridRowGap:"grid-row-gap",gridRowStart:"grid-row-start",gridTemplate:"grid-template",gridTemplateAreas:"grid-template-areas",gridTemplateColumns:"grid-template-columns",gridTemplateRows:"grid-template-rows"},M=function(){function e(e){this.__settedStyle=new Set,this.__value=new Map,this.__element=e}var t=e.prototype;return t.setStyle=function(e,t){var n=this[t];if(e&&this.__settedStyle.add(t),this.__value.set(t,e),n!==e&&this.__element._isRendered()){var r={path:this.__element._path+".style",value:this.cssText};this.__element._triggerUpdate(r)}},t.setCssVariables=function(e){var t=this;this.hasOwnProperty(e)||Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:function(){return t.__value.get(e)||""},set:function(n){t.setStyle(n,e)}})},t.setProperty=function(e,t){"-"===e[0]?this.setCssVariables(e):e=L.get(e),void 0!==typeof t&&(t?this[e]=t:this.removeProperty(e))},t.removeProperty=function(e){if(e=L.get(e),!this.__settedStyle.has(e))return"";var t=this[e];return this[e]="",this.__settedStyle.delete(e),t},t.getPropertyValue=function(e){return"string"!=typeof e?"":this[e=L.get(e)]||""},o(e,[{key:"cssText",get:function(){var e=this,t="";return this.__settedStyle.forEach((function(n){var r=e[n];r&&(t+=L.get(n)+": "+r+";")})),t},set:function(e){var t=this;if(void 0===e&&(e=""),this.__settedStyle.forEach((function(e){t.removeProperty(e)})),""!==e)for(var n=e.split(";"),r=0;r<n.length;r++){var i=n[r].trim();if(""!==i){var o=i.split(":"),a=o[0],s=o[1];void 0!==typeof s&&this.setProperty(a.trim(),s.trim())}}}}]),e}(),B={},L=new Map;Object.keys(D).forEach((function(e){L.set(e,D[e]),L.set(D[e],e),B[e]={get:function(){return this.__value.get(e)||""},set:function(t){this.setStyle(t,e)}}})),Object.defineProperties(M.prototype,B);var U=function(){function e(e){this.__element=e,this.__value={}}var t=e.prototype;return t.set=function(e,t,n){void 0===n&&(n=!0);var r=this.__element;if(this.__value[e]=t,"style"===e)r.style.cssText=t;else if(0===e.indexOf("data-")){var i=y.toCamel(e.substr(5));r.dataset[i]=t}else{var o={path:r._path+"."+e,value:t};r._triggerUpdate(o,n)}},t.get=function(e){var t=this.__element;if("style"===e)return t.style.cssText||null;if(0===e.indexOf("data-")){var n=y.toCamel(e.substr(5));return t.dataset[n]}return this.__value[e]||null},t.has=function(e){return Object.prototype.hasOwnProperty.call(this.__value,e)},t.remove=function(e){var t=this.__element;if(delete this.__value[e],delete this[e],"style"===e)t.style.cssText="";else if("id"===e)t.id="";else if(0===e.indexOf("data-")){var n=y.toCamel(e.substr(5));delete t.dataset[n]}else{var r={path:t._path+"."+e,value:""};t._triggerUpdate(r)}},o(e,[{key:"style",get:function(){return this.__element.style.cssText||void 0}},{key:"class",get:function(){return this.__value.class||void 0}},{key:"id",get:function(){return this.__value.id||void 0}},{key:"src",get:function(){return this.__value.src||void 0}}]),e}();function W(e){return e._renderInfo}function j(e,t){if(e){var n,r=[];r.push(e);for(var i=function(){var e=r.shift(),i=t(e);n?(e.__parent.children=e.__parent.children||[],e.__parent.children.push(i)):(n=i).children=[],e.childNodes&&e.childNodes.length&&(e.childNodes.forEach((function(e){return e.__parent=i})),r=r.concat(e.childNodes)),i.children||(i.children=[])};r.length;)i();return n}}function V(e){return j(e,W)}function F(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z,G=function(e){function t(t){var n;return t.type="element",(n=e.call(this,t)||this).__tagName=t.tagName||"",n.__isBuiltinComponent=C.has(n.__tagName),n.__tmplName=n.__isBuiltinComponent?n.__tagName:"h-element",n.childNodes=[],n.__nodeType=t.nodeType||x.ELEMENT_NODE,n.style=new M(S(n)),n.__attrs=new U(S(n)),k.setNode(n.__nodeId,S(n)),n.dataset={},n._initAttributes(t.attrs),n.id&&!n.ownerDocument.__idMap.has(n.id)&&n.ownerDocument.__idMap.set(n.id,S(n)),n}a(t,e);var n=t.prototype;return n.$$destroy=function(){this.childNodes.forEach((function(e){return e.$$destroy()})),k.setNode(this.__nodeId,null),this.ownerDocument.__idMap.set(this.id,null),e.prototype.$$destroy.call(this),this.__tagName="",this.childNodes.length=0,this.__nodeType=x.ELEMENT_NODE,this.__attrs=null},n._initAttributes=function(e){var t=this;void 0===e&&(e={}),Object.keys(e).forEach((function(n){t._setAttributeWithOutUpdate(n,e[n])}))},n._triggerUpdate=function(e,t){void 0===t&&(t=!0),t?this.enqueueRender(e):this._root.renderStacks.push(e)},n._adjustDocument=function(e){var t=this;this.__ownerDocument.__pageId!==e.__ownerDocument.__pageId&&this._root.__renderCallbacks.push((function(){j(e,(function(e){return e.id&&(e.__ownerDocument.__idMap.delete(e.id),t.__ownerDocument.__idMap.set(e.id,e)),e.__ownerDocument=t.__ownerDocument,{}}))}))},n._dealWithAttrsForCloneNode=function(){return{}},n._setAttributeWithOutUpdate=function(e,t){this.__attrs.set(e,t,!1)},n.cloneNode=function(e){var t=this,n={};Object.keys(this.dataset).forEach((function(e){n["data-"+y.toDash(e)]=t.dataset[e]}));var r=this.ownerDocument._createElement({tagName:this.__tagName,attrs:s({id:this.id,class:this.className,style:this.style.cssText,src:this.src},n,this._dealWithAttrsForCloneNode()),document:this.ownerDocument,nodeType:this.__nodeType});if(e)for(var i,o=F(this.childNodes);!(i=o()).done;){var a=i.value;r.appendChild(a.cloneNode(e))}return r},n.appendChild=function(e){if(e!==this){if(e.parentNode&&e.parentNode.removeChild(e),this.childNodes.push(e),e.parentNode=this,this._isRendered()){e.__rendered=!0;var t={type:"children",path:this._path+".children",start:this.childNodes.length-1,deleteCount:0,item:V(e)};this._triggerUpdate(t),this._adjustDocument(e)}return this}},n.removeChild=function(e){if(e instanceof x){var t=this.childNodes.indexOf(e);if(t>=0&&(this.childNodes.splice(t,1),e.parentNode=null,e.__rendered=!1,this._isRendered())){e.__rendered=!1;var n={type:"children",path:this._path+".children",start:t,deleteCount:1};this._triggerUpdate(n)}return e}},n.insertBefore=function(e,t){if(e instanceof x&&(!t||t instanceof x)&&e!==this){e.parentNode&&e.parentNode.removeChild(e),e.parentNode=this;var n=t?this.childNodes.indexOf(t):-1;if(-1===n?this.childNodes.push(e):this.childNodes.splice(n,0,e),this._isRendered()){e.__rendered=!0;var r={type:"children",path:this._path+".children",deleteCount:0,item:V(e),start:-1===n?this.childNodes.length-1:n};this._triggerUpdate(r),this._adjustDocument(e)}return e}},n.replaceChild=function(e,t){if(e instanceof x&&t instanceof x){var n=this.childNodes.indexOf(t);if(-1!==n&&this.childNodes.splice(n,1),e!==this){if(e.parentNode&&e.parentNode.removeChild(e),-1===n?this.childNodes.push(e):this.childNodes.splice(n,0,e),e.parentNode=this,this._isRendered()){e.__rendered=!0;var r={type:"children",path:this._path+".children",start:-1===n?this.childNodes.length-1:n,deleteCount:-1===n?0:1,item:V(e)};this._triggerUpdate(r),this._adjustDocument(e)}return t}}},n.hasChildNodes=function(){return this.childNodes.length>0},n.getElementsByTagName=function(e){var t=this;if("string"!=typeof e)return[];var n=[];return j(this,(function(r){return r!==t&&r&&r.__tagName===e&&n.push(r),{}})),n},n.getElementsByClassName=function(e){var t=this;if("string"!=typeof e)return[];var n=[];return j(this,(function(r){var i=e.trim().split(/\s+/);return r!==t&&r&&i.every((function(e){return r.classList&&r.classList.contains(e)}))&&n.push(r),{}})),n},n.querySelector=function(e){if("."===e[0]){var t=this.getElementsByClassName(e.slice(1));return t.length>0?t[0]:null}if("#"===e[0])return this.ownerDocument.getElementById(e.slice(1));if(/^[a-zA-Z]/.test(e)){var n=this.getElementsByTagName(e);return n.length>0?n[0]:null}return null},n.querySelectorAll=function(e){if("string"!=typeof e)return[];if("."===e[0])return this.getElementsByClassName(e.slice(1));if("#"===e[0]){var t=this.ownerDocument.getElementById(e.slice(1));return t?[t]:[]}return/^[a-zA-Z]/.test(e)?this.getElementsByTagName(e):null},n.setAttribute=function(e,t,n){void 0===n&&(n=!0),"id"===e&&t!==this.id&&(this.ownerDocument.__idMap.delete(this.id),this.ownerDocument.__idMap.set(t,this)),this.__attrs.set(e,t,n)},n.getAttribute=function(e){return this.__attrs.get(e)},n.hasAttribute=function(e){return"style"===e||"id"===e?!!this.getAttribute(e):this.__attrs.has(e)},n.removeAttribute=function(e){return this.__attrs.remove(e)},n.contains=function(e){for(var t=[],n=this;n;){if(n===e)return!0;var r=n.childNodes;r&&r.length&&r.forEach((function(e){return t.push(e)})),n=t.pop()}return!1},n.enqueueRender=function(e){this._root.enqueueRender(e)},n.getBoundingClientRect=function(){return console.warn("getBoundingClientRect is not supported, please use npm package universal-element to get DOM info in miniapp"),{}},o(t,[{key:"_renderInfo",get:function(){return s({nodeId:this.__nodeId,pageId:this.__pageId,nodeType:this.__tmplName},this.__attrs.__value,{style:this.style.cssText,class:this.__isBuiltinComponent?this.className:"h5-"+this.__tagName+" "+this.className})}},{key:"id",get:function(){return this.__attrs.get("id")||""},set:function(e){this.setAttribute("id",e)}},{key:"tagName",get:function(){return this.__tagName.toUpperCase()}},{key:"className",get:function(){return this.getAttribute("class")||""},set:function(e){this.setAttribute("class",e)}},{key:"classList",get:function(){return P._create(this.className,this)}},{key:"nodeName",get:function(){return this.tagName}},{key:"nodeType",get:function(){return this.__nodeType}},{key:"children",get:function(){return this.childNodes.filter((function(e){return e.nodeType===x.ELEMENT_NODE}))}},{key:"firstChild",get:function(){return this.childNodes[0]}},{key:"lastChild",get:function(){return this.childNodes[this.childNodes.length-1]}},{key:"innerText",get:function(){return this.textContent},set:function(e){this.textContent=e}},{key:"textContent",get:function(){return this.childNodes.map((function(e){return e.textContent})).join("")},set:function(e){if(e=""+e){this.childNodes.length=0;var t=this.ownerDocument.createTextNode(e);this.appendChild(t)}else{var n={type:"children",path:this._path+".children",start:0,deleteCount:this.childNodes.length};this.childNodes.length=0,this._triggerUpdate(n)}}},{key:"attributes",get:function(){return this.__attrs}},{key:"src",get:function(){return this.__attrs?this.__attrs.get("src")||void 0:""},set:function(e){e=""+e,this.__attrs.set("src",e)}}]),t}(x),q=0,X=function(e){function t(){var t;t=e.call(this)||this;var n=+new Date;return t.$_customEventConstructor=function(e){function t(t,r){return void 0===t&&(t=""),void 0===r&&(r={}),r.timeStamp=+new Date-n,e.call(this,t,r)||this}return a(t,e),t}(c),t.__sharedHandlers=[],t.HTMLIFrameElement=function(){},t}a(t,e);var n=t.prototype;return n.$$forceRender=function(){y.flushThrottleCache()},n.$$trigger=function(t,n){var r=this;if(void 0===n&&(n={}),"error"===t&&"string"==typeof n.event){for(var i=n.event,o=i.split("\n"),a="",s=0,u=o.length;s<u;s++){var c=o[s];if(0===c.trim().indexOf("at"))break;a+=c+"\n"}var l=new Error(a);if(l.stack=i,n.event=new this.$_customEventConstructor("error",{target:this,$$extra:{message:a,filename:"",lineno:0,colno:0,error:l}}),n.args=[a,l],"function"==typeof this.onerror&&!this.onerror.$$isOfficial){var h=this.onerror;this.onerror=function(e,t,n){h.call(r,t,"",0,0,n)},this.onerror.$$isOfficial=!0}}return e.prototype.$$trigger.call(this,t,n)},n.getComputedStyle=function(){console.warn("window.getComputedStyle is not supported.")},n.requestAnimationFrame=function(e){if("function"==typeof e){var t=new Date,n=Math.max(q+16,t);return setTimeout((function(){e(n),q=n}),n-t)}},n.cancelAnimationFrame=function(e){return clearTimeout(e)},o(t,[{key:"document",get:function(){return k.getDocument(this.__pageId)}},{key:"CustomEvent",get:function(){return this.$_customEventConstructor}},{key:"self",get:function(){return this}},{key:"Image",get:function(){return this.document.$$imageConstructor}},{key:"setTimeout",get:function(){return setTimeout.bind(null)}},{key:"clearTimeout",get:function(){return clearTimeout.bind(null)}},{key:"setInterval",get:function(){return setInterval.bind(null)}},{key:"clearInterval",get:function(){return clearInterval.bind(null)}},{key:"HTMLElement",get:function(){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(G,t)}}},{key:"Element",get:function(){return G}},{key:"Node",get:function(){return x}},{key:"RegExp",get:function(){return RegExp}},{key:"Math",get:function(){return Math}},{key:"Number",get:function(){return Number}},{key:"Boolean",get:function(){return Boolean}},{key:"String",get:function(){return String}},{key:"Date",get:function(){return Date}},{key:"Symbol",get:function(){return Symbol}}]),t}(m);var Y=function(e){function t(t){var n;return t.type="text",(n=e.call(this,t)||this).$_content=t.content||"",n}a(t,e);var n=t.prototype;return n.$$destroy=function(){e.prototype.$$destroy.call(this),this.$_content=""},n._triggerUpdate=function(e){this._root.enqueueRender(e)},n.cloneNode=function(){return this.ownerDocument.createTextNode(this.$_content)},o(t,[{key:"_renderInfo",get:function(){return{nodeType:"h-"+this.$_type,content:this.$_content}}},{key:"nodeName",get:function(){return"#text"}},{key:"nodeType",get:function(){return x.TEXT_NODE}},{key:"nodeValue",get:function(){return this.textContent},set:function(e){this.textContent=e}},{key:"textContent",get:function(){return this.$_content},set:function(e){if(e+="",this.$_content=e,this._isRendered()){var t={path:this._path+".content",value:e};this._triggerUpdate(t)}}},{key:"data",get:function(){return this.textContent},set:function(e){this.textContent=e}}]),t}(x),Z=function(e){function t(t){var n;return t.type="comment",(n=e.call(this,t)||this).data=t.data,n}return a(t,e),t.prototype.cloneNode=function(){return this.ownerDocument.createComment({data:this.data})},o(t,[{key:"_renderInfo",get:function(){return{nodeType:"h-"+this.$_type}}},{key:"nodeName",get:function(){return"#comment"}},{key:"nodeType",get:function(){return x.COMMENT_NODE}}]),t}(x),K=function(e){function t(t){var n,r=t.width,i=t.height;return"number"==typeof r&&r>=0&&(t.attrs.width=r),"number"==typeof i&&i>=0&&(t.attrs.height=i),(n=e.call(this,t)||this).$_naturalWidth=0,n.$_naturalHeight=0,n.$_initRect(),n}a(t,e);var n=t.prototype;return n.$$destroy=function(){e.prototype.$$destroy.call(this),this.$_naturalWidth=null,this.$_naturalHeight=null},n.$_initRect=function(){var e=parseInt(this.__attrs.get("width"),10),t=parseInt(this.__attrs.get("height"),10);"number"==typeof e&&e>=0&&(this.style.width=e+"px"),"number"==typeof t&&t>=0&&(this.style.height=t+"px")},n.$_resetRect=function(e){void 0===e&&(e={}),this.$_naturalWidth=e.width||0,this.$_naturalHeight=e.height||0,this.$_initRect()},o(t,[{key:"_renderInfo",get:function(){return s({nodeId:this.__nodeId,pageId:this.__pageId,nodeType:"image"},this.__attrs.__value,{style:this.style.cssText,class:"h5-img "+this.className})}},{key:"src",get:function(){return this.__attrs.get("src")||""},set:function(e){var t=this;e&&"string"==typeof e&&(this.__attrs.set("src",e),setTimeout((function(){0!==t.src.indexOf("data:image")&&wx.getImageInfo({src:t.src,success:function(e){t.$_resetRect(e),t.$$trigger("load",{event:new u({name:"load",target:t,eventPhase:u.AT_TARGET}),currentTarget:t})},fail:function(){t.$_resetRect({width:0,height:0}),t.$$trigger("error",{event:new u({name:"error",target:t,eventPhase:u.AT_TARGET}),currentTarget:t})}})}),0))}},{key:"width",get:function(){return+this.__attrs.get("width")||0},set:function(e){"number"!=typeof e||!isFinite(e)||e<0||(this.__attrs.set("width",e),this.$_initRect())}},{key:"height",get:function(){return+this.__attrs.get("height")||0},set:function(e){"number"!=typeof e||!isFinite(e)||e<0||(this.__attrs.set("height",e),this.$_initRect())}},{key:"naturalWidth",get:function(){return this.$_naturalWidth}},{key:"naturalHeight",get:function(){return this.$_naturalHeight}}]),t}(G),J=function(e){function t(t){var n;return(n=e.call(this,t)||this).__changed=!1,n}a(t,e);var n=t.prototype;return n._dealWithAttrsForCloneNode=function(){return{type:this.type,value:this.value,disabled:this.disabled,maxlength:this.maxlength,placeholder:this.placeholder,mpplaceholderclass:this.mpplaceholderclass}},n.setAttribute=function(t,n,r){void 0===r&&(r=!0),"focus"!==t&&"autofocus"!==t&&"autoFocus"!==t||(t="focus-state"),"value"===t&&(this.__changed=!0),e.prototype.setAttribute.call(this,t,n,r)},n._setAttributeWithOutUpdate=function(t,n){"focus"!==t&&"autofocus"!==t&&"autoFocus"!==t||(t="focus-state"),"value"===t&&(this.__changed=!0),e.prototype._setAttributeWithOutUpdate.call(this,t,n)},n.getAttribute=function(e){return"focus"!==e&&"autofocus"!==e&&"autoFocus"!==e||(e="focus-state"),this.__attrs.get(e)},n.blur=function(){this.setAttribute("focus",!1)},n.focus=function(){this.setAttribute("focus",!0)},o(t,[{key:"_renderInfo",get:function(){return s({nodeId:this.__nodeId,pageId:this.__pageId,nodeType:"input"},this.__attrs.__value,{style:this.style.cssText,class:"h5-input "+this.className})}},{key:"name",get:function(){return this.__attrs.get("name")},set:function(e){e=""+e,this.__attrs.set("name",e)}},{key:"type",get:function(){return this.__attrs.get("type")||"text"},set:function(e){e=""+e,this.__attrs.set("type",e)}},{key:"value",get:function(){var e=this.__attrs.get("value");return e||this.__changed||(e=this.__attrs.get("defaultValue")),e||""},set:function(e){this.__changed=!0,e=""+e,this.__attrs.set("value",e)}},{key:"readOnly",get:function(){return!!this.__attrs.get("readOnly")},set:function(e){this.__attrs.set("readOnly",!!e)}},{key:"disabled",get:function(){return!!this.__attrs.get("disabled")},set:function(e){e=!!e,this.__attrs.set("disabled",e)}},{key:"maxlength",get:function(){return this.__attrs.get("maxlength")},set:function(e){this.__attrs.set("maxlength",e)}},{key:"placeholder",get:function(){return this.__attrs.get("placeholder")||""},set:function(e){e=""+e,this.__attrs.set("placeholder",e)}},{key:"checked",set:function(e){this.__attrs.set("checked",e)},get:function(){return this.__attrs.get("checked")||""}}]),t}(G),Q=function(e){function t(t){var n;return(n=e.call(this,t)||this).__changed=!1,n}a(t,e);var n=t.prototype;return n._dealWithAttrsForCloneNode=function(){return{type:this.type,value:this.value,disabled:this.disabled,maxlength:this.maxlength,placeholder:this.placeholder,mpplaceholderclass:this.mpplaceholderclass}},n.setAttribute=function(t,n,r){void 0===r&&(r=!0),"focus"!==t&&"autofocus"!==t&&"autoFocus"!==t||(t="focus-state"),"value"===t&&(this.__changed=!0),e.prototype.setAttribute.call(this,t,n,r)},n._setAttributeWithOutUpdate=function(t,n){"focus"!==t&&"autofocus"!==t&&"autoFocus"!==t||(t="focus-state"),"value"===t&&(this.__changed=!0),e.prototype._setAttributeWithOutUpdate.call(this,t,n)},n.getAttribute=function(e){return"focus"!==e&&"autofocus"!==e&&"autoFocus"!==e||(e="focus-state"),this.__attrs.get(e)},n.blur=function(){this.setAttribute("focus",!1)},n.focus=function(){this.setAttribute("focus",!0)},o(t,[{key:"_renderInfo",get:function(){return s({nodeId:this.__nodeId,pageId:this.__pageId,nodeType:"textarea"},this.__attrs.__value,{style:this.style.cssText,class:"h5-textarea "+this.className})}},{key:"name",get:function(){return this.__attrs.get("name")},set:function(e){e=""+e,this.__attrs.set("name",e)}},{key:"type",get:function(){return this.__attrs.get("type")||"textarea"},set:function(e){e=""+e,this.__attrs.set("type",e)}},{key:"value",get:function(){var e=this.__attrs.get("value");return e||this.__changed||(e=this.__attrs.get("defaultValue")),e||""},set:function(e){this.__changed=!0,e=""+e,this.__attrs.set("value",e)}},{key:"readOnly",get:function(){return!!this.__attrs.get("readOnly")},set:function(e){this.__attrs.set("readOnly",!!e)}},{key:"disabled",get:function(){return!!this.__attrs.get("disabled")},set:function(e){e=!!e,this.__attrs.set("disabled",e)}},{key:"maxlength",get:function(){return this.__attrs.get("maxlength")},set:function(e){this.__attrs.set("maxlength",e)}},{key:"placeholder",get:function(){return this.__attrs.get("placeholder")||""},set:function(e){e=""+e,this.__attrs.set("placeholder",e)}},{key:"selectionStart",get:function(){var e=+this.__attrs.get("selection-start");return void 0!==e?e:-1},set:function(e){this.__attrs.set("selection-start",e)}},{key:"selectionEnd",get:function(){var e=+this.__attrs.get("selection-end");return void 0!==e?e:-1},set:function(e){this.__attrs.set("selection-end",e)}}]),t}(G),ee=function(e){function t(t){var n,r=t.width,i=t.height;return"number"==typeof r&&r>=0&&(t.attrs.width=r),"number"==typeof i&&i>=0&&(t.attrs.height=i),(n=e.call(this,t)||this).$_initRect(),n}return a(t,e),t.prototype.$_initRect=function(){var e=parseInt(this.__attrs.get("width"),10),t=parseInt(this.__attrs.get("height"),10);"number"==typeof e&&e>=0&&(this.$_style.width=e+"px"),"number"==typeof t&&t>=0&&(this.$_style.height=t+"px")},o(t,[{key:"_renderInfo",get:function(){return s({nodeId:this.__nodeId,pageId:this.__pageId,nodeType:"video"},this.__attrs.__value,{style:this.style.cssText,class:"h5-video "+this.className})}},{key:"src",get:function(){return this.__attrs.get("src")||""},set:function(e){e&&"string"==typeof e&&this.__attrs.set("src",e)}},{key:"width",get:function(){return+this.__attrs.get("width")||0},set:function(e){"number"!=typeof e||!isFinite(e)||e<0||(this.__attrs.set("width",e),this.$_initRect())}},{key:"height",get:function(){return+this.__attrs.get("height")||0},set:function(e){"number"!=typeof e||!isFinite(e)||e<0||(this.__attrs.set("height",e),this.$_initRect())}},{key:"autoplay",get:function(){return!!this.__attrs.get("autoplay")},set:function(e){e=!!e,this.__attrs.set("autoplay",e)}},{key:"loop",get:function(){return!!this.__attrs.get("loop")},set:function(e){e=!!e,this.__attrs.set("loop",e)}},{key:"muted",get:function(){return!!this.__attrs.get("muted")},set:function(e){e=!!e,this.__attrs.set("muted",e)}},{key:"controls",get:function(){var e=this.__attrs.get("controls");return void 0===e||!!e},set:function(e){this.__attrs.set("controls",e)}},{key:"poster",get:function(){return this.__attrs.get("poster")},set:function(e){e&&"string"==typeof e&&this.__attrs.set("poster",e)}},{key:"currentTime",get:function(){return+this.__attrs.get("currentTime")||0}},{key:"buffered",get:function(){return this.__attrs.get("buffered")}}]),t}(G),te=function(e){function t(t){var n;return(n=e.call(this,t)||this).__nativeType=t.nativeType,n}return a(t,e),t.prototype.$$destroy=function(){e.prototype.$$destroy.call(this),this.__nativeType=null},o(t,[{key:"_renderInfo",get:function(){var e=this,t=s({nodeId:this.__nodeId,pageId:this.__pageId,nodeType:this.__tagName,style:this.style.cssText,className:this.className},this.__attrs.__value),n=k.getConfig(),r=null;return"customComponent"===this.__nativeType?r=n.usingComponents[this.__tagName]:"miniappPlugin"===this.__nativeType&&(r=n.usingPlugins[this.__tagName]),r&&r.events.forEach((function(n){var r=e.__tagName+"_"+n+"_"+y.getId();t[n]=r,k.setElementMethods(r,(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e.$$trigger(n,{args:r})}))})),t}}]),t}(G);var ne,re=function(e){function t(t){var n;return(n=e.call(this,t)||this).__nodeId=t.nodeId,n.allowRender=!0,n.renderStacks=[],n.__renderCallbacks=[],n}a(t,e);var n=t.prototype;return n.$$destroy=function(){e.prototype.$$destroy.call(this),this.allowRender=null,this.renderStacks=null},n.enqueueRender=function(e){var t=this;clearTimeout(this.__timer),this.__timer=setTimeout((function(){t.executeRender()}),0),this.renderStacks.push(e)},n.executeRender=function(){var e=this;if(this.allowRender){var t=k.getDocument(this.__pageId)._internal;if(t.$batchedUpdates){var n;t.$batchedUpdates((function(){e.renderStacks.forEach((function(r,i){if(i===e.renderStacks.length-1&&(n=function(){for(var t;t=e.__renderCallbacks.pop();)t()},t.firstRenderCallback()),"children"===r.type){var o,a=[r.start,r.deleteCount];t.$spliceData(((o={})[r.path]=r.item?a.concat(r.item):a,o),n)}else{var s;t.setData(((s={})[r.path]=r.value,s),n)}}))}))}else{var r={},i=[];this.renderStacks.forEach((function(e){var n=e.path;if("children"===e.type){var o=function(e,t,n){n.find((function(n){var r=n.path,i=n.value;if(r===t)return t="",e=i,!0;var o=t.split(r+".");return o.length>1&&(t=o[1],e=i,!0)}));var r=e,i=!0;if("[object Object]"!==Object.prototype.toString.call(r)&&!Array.isArray(r))return{parentRendered:i,value:r};var o=t.split(".");if(o.length>0)for(var a=0;a<o.length;a++){var s=o[a].match(/\[(.+?)\]/),u=s&&s[1]?s[1]:o[a];if(!r[u]&&a!==o.length-1){i=!1;break}r=r[u]}return{parentRendered:i,value:r}}(t.data,n,i);i.push({path:e.path,value:o.value}),r[n]||(r[n]=o.value?[].concat(o.value):[]),e.item?r[n].splice(e.start,e.deleteCount,e.item):r[n].splice(e.start,e.deleteCount)}else r[n]=e.value})),t.firstRenderCallback(r),t.setData(r,(function(){for(var t;t=e.__renderCallbacks.pop();)t()}))}this.renderStacks=[]}},o(t,[{key:"_path",get:function(){return"root"}},{key:"_root",get:function(){return this}}]),t}(G),ie=new Map([["img",K],["input",J],["textarea",Q],["video",ee]]),oe=function(e){function t(t){var n;n=e.call(this)||this;var r=k.getConfig(),i=r.usingComponents,o=void 0===i?{}:i,a=r.usingPlugins,s=void 0===a?{}:a;n.usingComponents=o,n.usingPlugins=s,n.__idMap=new Map,n.__pageId=t;var u="e-body-"+t;return n.__root=new re({nodeId:u,type:"element",tagName:"body",attrs:{},children:[],document:S(n)}),k.setNode(u,n.__root),n.__root.parentNode=S(n),n}a(t,e);var n=t.prototype;return n.$$trigger=function(e,t){return this.documentElement.$$trigger(e,t)},n._isRendered=function(){return!0},n._createElement=function(e){var t=ie.get(e.tagName);return t?new t(e):(e.attrs=e.attrs||{},e.attrs.__native?this.usingComponents[e.tagName]?(e.nativeType="customComponent",new te(e)):this.usingPlugins[e.tagName]?(e.nativeType="miniappPlugin",new te(e)):void 0:new G(e))},n.getElementById=function(e){if("string"==typeof e){var t=this.__idMap.get(e);return t&&t._isRendered()?t:null}},n.getElementsByTagName=function(e){var t=this;if("string"!=typeof e)return[];var n=[];return k.getAllNodes().forEach((function(r){r&&r.__tagName===e&&r._isRendered()&&r.__pageId===t.__pageId&&n.push(r)})),n},n.getElementsByClassName=function(e){var t=this;if("string"!=typeof e)return[];var n=[];return k.getAllNodes().forEach((function(r){var i=e.trim().split(/\s+/);r&&r._isRendered()&&r.__pageId===t.__pageId&&i.every((function(e){return r.classList&&r.classList.contains(e)}))&&n.push(r)})),n},n.querySelector=function(e){if("string"==typeof e){if("."===e[0]){var t=this.getElementsByClassName(e.slice(1));return t.length>0?t[0]:null}if("#"===e[0])return this.getElementById(e.slice(1));if(/^[a-zA-Z]/.test(e)){var n=this.getElementsByTagName(e);return n.length>0?n[0]:null}return null}},n.querySelectorAll=function(e){if("string"!=typeof e)return[];if("."===e[0])return this.getElementsByClassName(e.slice(1));if("#"===e[0]){var t=this.getElementById(e.slice(1));return t?[t]:[]}return/^[a-zA-Z]/.test(e)?this.getElementsByTagName(e):null},n.createElement=function(e){return this._createElement({document:this,tagName:e})},n.createElementNS=function(e,t){return this.createElement(t)},n.createTextNode=function(e){return new Y({content:e=""+e,document:this})},n.createComment=function(e){return new Z({document:this,data:e})},n.createDocumentFragment=function(){return new G({tagName:"documentfragment",nodeType:x.DOCUMENT_FRAGMENT_NODE,document:this})},n.createEvent=function(){return new(k.getWindow().CustomEvent)},n.addEventListener=function(e,t,n){this.documentElement.addEventListener(e,t,n)},n.removeEventListener=function(e,t,n){this.documentElement.removeEventListener(e,t,n)},n.dispatchEvent=function(e){this.documentElement.dispatchEvent(e)},o(t,[{key:"nodeType",get:function(){return x.DOCUMENT_NODE}},{key:"documentElement",get:function(){return this.body}},{key:"body",get:function(){return this.__root}},{key:"nodeName",get:function(){return"#document"}},{key:"defaultView",get:function(){return k.getWindow()||null}}]),t}(m);function ae(e,t){if(t){var n=0===e.indexOf("canvas")?t.target:t.currentTarget;return k.getNode(n&&n.dataset.privateNodeId)}}var se=[{name:"onTap",eventName:"click",extra:{button:0}},(ne={name:"onLongTap"},ne.name="longtap",ne),{name:"onTouchStart",eventName:"touchstart"},{name:"onTouchMove",eventName:"touchmove"},{name:"onTouchEnd",eventName:"touchend"},{name:"onTouchCancel",eventName:"touchcancel"}],ue={name:"scroll-view",singleEvents:[{name:"onScrollViewScrollToUpper",eventName:"scrolltoupper"},{name:"onScrollViewScrollToLower",eventName:"scrolltolower"}],functionalSingleEvents:[{name:"onScrollViewScroll",eventName:"scroll",middleware:function(e,t){t._setAttributeWithOutUpdate("scroll-into-view",""),t._setAttributeWithOutUpdate("scroll-top",e.detail.scrollTop),t._setAttributeWithOutUpdate("scroll-left",e.detail.scrollLeft)}}]};ue.singleEvents=ue.singleEvents.concat([{name:"onScrollViewRefresherPulling",eventName:"refresherpulling"},{name:"onScrollViewRefresherRefresh",eventName:"refresherrefresh"},{name:"onScrollViewRefresherRestore",eventName:"refresherrestore"},{name:"onScrollViewRefresherAbort",eventName:"refresherabort"}]);var ce={name:"swiper",singleEvents:[{name:"onSwiperTransition",eventName:"transition"}],functionalSingleEvents:[{name:"onSwiperChange",eventName:"change",middleware:function(e,t){t._setAttributeWithOutUpdate("current",e.detail.current)}}]};ce.singleEvents.push({name:"onSwiperAnimationFinish",eventName:"animationfinish"});var le={name:"input",simpleEvents:[{name:"onInputConfirm",eventName:"confirm"}],singleEvents:[{name:"onInputKeyBoardHeightChange",eventName:"keyboardheightchange"}],complexEvents:[{name:"onInputInput",eventName:"input",middleware:function(e,t,n){var r=""+e.detail.value;t._setAttributeWithOutUpdate("value",r),this.callEvent("input",e,null,n)}},{name:"onInputFocus",eventName:"focus",middleware:function(e,t,n){t.__inputOldValue=t.value||"",t._setAttributeWithOutUpdate("focus-state",!0),this.callSimpleEvent("focus",e,t)}},{name:"onInputBlur",eventName:"blur",middleware:function(e,t,n){t._setAttributeWithOutUpdate("focus-state",!1),void 0!==t.__inputOldValue&&t.value!==t.__inputOldValue&&(t.__inputOldValue=void 0,this.callEvent("change",e,null,n)),this.callSimpleEvent("blur",e,t)}}]},he={name:"picker",singleEvents:[{name:"onPickerCancel",eventName:"cancel"}],functionalSingleEvents:[{name:"onPickerChange",eventName:"change",middleware:function(e,t){t._setAttributeWithOutUpdate("value",e.detail.value)}}]};he.singleEvents.push({name:"onPickerColumnChange",eventName:"columnchange"});var de={name:"textarea",singleEvents:[{name:"keyboardheightchange",eventName:"keyboardheightchange"}],simpleEvents:[{name:"onTextareaConfirm",eventName:"confirm"}],complexEvents:[{name:"onTextareaFocus",eventName:"input",middleware:function(e,t,n){t.__textareaOldValue=t.value||"",t._setAttributeWithOutUpdate("focus-state",!0),this.callSimpleEvent("focus",e,t)}},{name:"onTextareaBlur",eventName:"blur",middleware:function(e,t,n){t._setAttributeWithOutUpdate("focus-state",!1),void 0!==t.__textareaOldValue&&t.value!==t.__textareaOldValue&&(t.__textareaOldValue=void 0,this.callEvent("change",e,null,n)),this.callSimpleEvent("blur",e,t)}},{name:"onTextareaInput",eventName:"input",middleware:function(e,t,n){var r=""+e.detail.value;t._setAttributeWithOutUpdate("value",r),this.callEvent("input",e,null,n)}}]},fe={name:"camera",singleEvents:[{name:"onCameraStop",eventName:"stop"},{name:"onCameraError",eventName:"error"},{name:"onCameraInitDone",eventName:"initdone"},{name:"onCameraScanCode",eventName:"scancode"}]},ge={name:"live-player",singleEvents:[{name:"onLivePlayerStateChange",eventName:"statechange"},{name:"onLivePlayerFullScreenChange",eventName:"fullscreenchange"}]};ge.singleEvents=ge.singleEvents.concat([{name:"onLivePlayerNetStatus",eventName:"netstatus"},{name:"onLivePlayerAudioVolumeNofify",eventName:"audiovolumenotify"},{name:"onLivePlayerEnterPictureInPicture",eventName:"enterpictureinpicture"},{name:"onLivePlayerLeavePictureInPicture",eventName:"leavepictureinpicture"}]);var me={name:"live-pusher",singleEvents:[{name:"onLivePusherStateChange",eventName:"statechange"},{name:"onLivePusherError",eventName:"error"},{name:"onLivePusherNetStatus",eventName:"netstatus"}]};me.singleEvents=me.singleEvents.concat([{name:"onLivePusherBgmStart",eventName:"bgmstart"},{name:"onLivePusherBgmProgress",eventName:"bgmprogress"},{name:"onLivePusherBgmComplete",eventName:"bgmcomplete"},{name:"onLivePusherAudioVolumeNofify",eventName:"audiovolumenotify"}]);var pe={simpleEvents:[],singleEvents:[],functionalSingleEvents:[],complexEvents:[]};function ve(e,t,n,r){var i=k.getNode(r);i&&m.$$process(i,e,t,n)}function _e(e,t,n){n&&m.$$process(n,new u({name:e,target:n,eventPhase:u.AT_TARGET,detail:t&&t.detail,$$extra:t&&t.extra,bubbles:!1}))}function ye(e,t){var n=this.getDomNodeFromEvt(e,t);n&&n.$$trigger(e,{event:new u({timeStamp:t&&t.timeStamp,touches:t&&t.touches,changedTouches:t&&t.changedTouches,name:e,target:n,eventPhase:u.AT_TARGET,detail:t&&t.detail,$$extra:t&&t.extra}),currentTarget:n})}function be(){var e={};return e.getDomNodeFromEvt=ae,e.callEvent=ve,e.callSimpleEvent=_e,e.callSingleEvent=ye,se.forEach((function(t){var n=t.name,r=t.extra,i=void 0===r?null:r,o=t.eventName;e[n]=function(e){var t=this.getDomNodeFromEvt(o,e).ownerDocument;t&&t.__checkEvent(e)&&this.callEvent(o,e,i,e.currentTarget.dataset.privateNodeId)}})),pe.simpleEvents.forEach((function(t){var n=t.name,r=t.eventName;e[n]=function(e){var t=e.currentTarget.dataset.privateNodeId,n=k.getNode(t);n&&this.callSimpleEvent(r,e,n)}})),pe.singleEvents.forEach((function(t){var n=t.name,r=t.eventName;e[n]=function(e){this.callSingleEvent(r,e)}})),pe.functionalSingleEvents.forEach((function(t){var n=t.name,r=t.eventName,i=t.middleware;e[n]=function(e){var t=this.getDomNodeFromEvt(r,e);t&&(i.call(this,e,t),this.callSingleEvent(r,e))}})),pe.complexEvents.forEach((function(t){var n=t.name,r=t.eventName,i=t.middleware;e[n]=function(e){var t=this.getDomNodeFromEvt(r,e);t&&i.call(this,e,t,e.currentTarget.dataset.privateNodeId)}})),e}function Ne(e){return{onLoad:function(t){var n,r,i=this,o=getApp();this.window=k.getWindow(),this.pageId=e+"-"+k.getRouteId(e),this.pageId===o.__pageId?this.document=k.getDocument(this.pageId):this.document=(n=this.pageId,r=new oe(n),k.init(n,{document:r}),r),o.launched||(o.init(this.document),o.launched=!0,o.onShow.call(o,o.__showOptions)),this.document._internal=this,this.query=t,this.window.history.location.__updatePageOption(t),this.window.__pageId=this.pageId,this.renderInfo=this.window.__pagesRenderInfo.find((function(e){var t=e.path;return i.pageId.substring(0,i.pageId.lastIndexOf("-"))===t})),this.renderInfo,this.renderInfo.setDocument(this.document),this.renderInfo.render(),this.document.$$trigger("DOMContentLoaded")},onShow:function(){this.window&&(this.window.__pageId=this.pageId,this.firstRender||this.renderInfo&&this.renderInfo.setDocument(this.document),this.document.$$trigger("miniapp_pageshow"),this.document.$$trigger("onShow"))},onHide:function(){this.window&&(this.document.$$trigger("miniapp_pagehide"),this.document.$$trigger("onHide"))},onUnload:function(){this.document.$$trigger("miniapp_pagehide"),this.document.$$trigger("beforeunload"),this.document.$$trigger("pageunload"),this.document.__unmount&&this.document.__unmount(),this.document.body.$$destroy(),k.destroy(this.pageId),this.pageId=null,this.window=null,this.document=null,this.query=null}}}return[{name:"cover-image",singleEvents:[{name:"onCoverImageLoad",eventName:"load"},{name:"onCoverImageError",eventName:"error"}]},{name:"cover-view"},{name:"movable-area"},ue,ce,{name:"view"},{name:"icon"},{name:"progress",singleEvents:[{name:"onProgressActiveEnd",eventName:"activeend"}]},{name:"text"},{name:"rich-text"},{name:"button",singleEvents:[{name:"onButtonGetUserInfo",eventName:"getuserinfo"},{name:"onButtonContact",eventName:"contact"},{name:"onButtonGetPhoneNumber",eventName:"getphonenumber"},{name:"onButtonError",eventName:"error"},{name:"onButtonOpenSetting",eventName:"opensetting"},{name:"onButtonLaunchApp",eventName:"launchapp"},{name:"onButtonGetAuthorize",eventName:"getauthorize"}]},{name:"editor",singleEvents:[{name:"onEditorReady",eventName:"ready"},{name:"onEditorFocus",eventName:"focus"},{name:"onEditorBlur",eventName:"blur"},{name:"onEditorInput",eventName:"input"},{name:"onEditorStatusChange",eventName:"statuschange"}]},{name:"form",singleEvents:[{name:"onFormSubmit",eventName:"submit"},{name:"onFormReset",eventName:"reset"}]},{name:"label"},le,{name:"radio-group",singleEvents:[{name:"onRadioChange",eventName:"change"}]},{name:"radio",singleEvents:[{name:"onRadioChange",eventName:"change"}]},{name:"checkbox-group",singleEvents:[{name:"onCheckboxChange",eventName:"change"}]},{name:"checkbox",singleEvents:[{name:"onCheckboxItemChange",eventName:"change"}]},he,{name:"picker-view",singleEvents:[{name:"onPickerViewPickstart",eventName:"pickstart"},{name:"onPickerViewPickend",eventName:"pickend"}],functionalSingleEvents:[{name:"onPickerViewChange",eventName:"change",middleware:function(e,t){t._setAttributeWithOutUpdate("value",e.detail.value)}}]},{name:"slider",singleEvents:[{name:"onSliderChanging",eventName:"changing"}],functionalSingleEvents:[{name:"onSliderChange",eventName:"change",middleware:function(e,t){t._setAttributeWithOutUpdate("value",e.detail.value),t.__oldValues=t.__oldValues||{},t.__oldValues.value=e.detail.value}}]},{name:"switch",functionalSingleEvents:[{name:"onSwitchChange",eventName:"change",middleware:function(e,t){t._setAttributeWithOutUpdate("checked",e.detail.value)}}]},de,{name:"navigator",singleEvents:[{name:"onNavigatorSuccess",eventName:"success"},{name:"onNavigatorFail",eventName:"fail"},{name:"onNavigatorComplete",eventName:"complete"}]},fe,{name:"image",singleEvents:[{name:"onImageLoad",eventName:"load"},{name:"onImageError",eventName:"error"}]},{name:"video",singleEvents:[{name:"onVideoPlay",eventName:"play"},{name:"onVideoPause",eventName:"pause"},{name:"onVideoEnded",eventName:"ended"},{name:"onVideoFullScreenChange",eventName:"fullscreenchange"},{name:"onVideoWaiting",eventName:"waiting"},{name:"onVideoError",eventName:"error"}],functionalSingleEvents:[{name:"onVideoTimeUpdate",eventName:"timeupdate",middleware:function(e,t){t._setAttributeWithOutUpdate("currentTime",e.detail.currentTime)}},{name:"onVideoProgress",eventName:"progress",middleware:function(e,t){t._setAttributeWithOutUpdate("buffered",e.detail.buffered)}}]},{name:"map",singleEvents:[{name:"onMapTap",eventName:"tap"},{name:"onMapUpdated",eventName:"updated"},{name:"onMapPoiTap",eventName:"poitap"}],functionalSingleEvents:[{name:"onMapRegionChange",eventName:"regionchange",middleware:function(e,t){e.detail.causedBy||(e.detail.causedBy=e.causedBy)}},{name:"onMapMarkerTap",eventName:"markertap",middleware:function(e,t){}},{name:"onMapControlTap",eventName:"controltap",middleware:function(e,t){}},{name:"onMapCalloutTap",eventName:"callouttap",middleware:function(e,t){}},{name:"onMapPanelTap",eventName:"paneltap",middleware:function(e,t){}}]},{name:"canvas",singleEvents:[{name:"onCanvasTouchStart",eventName:"canvastouchstart"},{name:"onCanvasTouchMove",eventName:"canvastouchmove"},{name:"onCanvasTouchEnd",eventName:"canvastouchend"},{name:"onCanvasTouchCancel",eventName:"canvastouchcancel"},{name:"onCanvasLongTap",eventName:"longtap"},{name:"onCanvasError",eventName:"error"}]},{name:"web-view",singleEvents:[{name:"onWebviewMessage",eventName:"message"},{name:"onWebviewLoad",eventName:"load"},{name:"onWebviewError",eventName:"error"}]},ge,me,{name:"movable-view",singleEvents:[{name:"onMovableViewHtouchmove",eventName:"htouchmove"},{name:"onMovableViewVtouchmove",eventName:"vtouchmove"}],functionalSingleEvents:[{name:"onMovableViewChange",eventName:"change",middleware:function(e,t){t._setAttributeWithOutUpdate("x",e.detail.x),t._setAttributeWithOutUpdate("y",e.detail.y)}},{name:"onMovableViewScale",eventName:"scale",middleware:function(e,t){t._setAttributeWithOutUpdate("x",e.detail.x),t._setAttributeWithOutUpdate("y",e.detail.y),t._setAttributeWithOutUpdate("scale-value",e.detail.scale)}}]},{name:"swiper-item"},{name:"picker-view-column"}].forEach((function(e){var t=e.simpleEvents,n=e.singleEvents,r=e.functionalSingleEvents,i=e.complexEvents;t&&(pe.simpleEvents=pe.simpleEvents.concat(t)),n&&(pe.singleEvents=pe.singleEvents.concat(n)),r&&(pe.functionalSingleEvents=pe.functionalSingleEvents.concat(r)),i&&(pe.complexEvents=pe.complexEvents.concat(i))})),{createAppConfig:function(e,t){return k.setConfig(t),{launched:!1,onLaunch:function(t){var n=this,r=z||(z=new X);k.setWindow(r),this.init=function(i){e(r,i),r.$$trigger("launch",{event:{options:t,context:n}})},this.window=r},onShow:function(e){this.window&&this.launched&&(this.__showOptions=e,this.window.$$trigger("appshow",{event:{options:e,context:this}}))},onHide:function(){this.window&&this.window.$$trigger("apphide",{event:{context:this}})},onError:function(e){if(this.window){var t=getCurrentPages()||[],n=t[t.length-1];n&&n.window&&n.window.$$trigger("error",{event:e}),this.window.$$trigger("apperror",{event:{context:this,error:e}})}},onPageNotFound:function(e){this.window&&this.window.$$trigger("pagenotfound",{event:{options:e,context:this}})}}},createPageConfig:function(e,t){void 0===t&&(t=[]);var n=s({firstRender:!0,data:{root:{nodeId:"e-body",nodeType:"h-element",children:[]}},firstRenderCallback:function(e){if(this.firstRender){this.firstRender=!1;var t={pageId:this.pageId,"root.pageId":this.pageId,"root.nodeId":"e-body-"+this.pageId};e?Object.assign(e,t):this.setData(t)}}},Ne(e),be());return function(e,t){e.forEach((function(e){["onLoad","onShow","onHide","onUnload"].includes(e)||(t[e]=function(e){return"onShareAppMessage"===e?function(e){if(this.document){var t={};return this.document.$$trigger("onShareAppMessage",{event:{options:e,shareInfo:t}})||t.content}}:function(t){this.document&&this.document.$$trigger(e,{event:t})}}(e))}))}(t,n),n},createElementConfig:function(){return s({properties:{r:{type:Object,value:{}}},options:{styleIsolation:"shared",virtualHost:!0},methods:be()},function(e){var t=e.mount,n=e.unmount;return e.update,{attached:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t&&t.apply(this,n)},detached:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n&&n.apply(this,t)}}}({mount:function(){k.setElementInstance(this),k.getNode(this.properties.r.nodeId)._internal=this}}))}}}));
